<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<title>首屏显性加载</title>
<link rel="stylesheet" href="css/style.css" type="text/css" />
<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
</head>
<body>
  <div id="loadingbg">
    <div id="loadingwrap">
      <div id="loading">0%</div>
    </div>
  </div>
  <div id="content">
	  <div id="wrap1">
	    <img class="bg-img" src="img/bg1.jpg">
	  </div>
	  <div id="wrap2">
	    <img class="bg-img" src="img/bg2.jpg">
	  </div>
  <div>
</body>
</html>
<script type="text/javascript">
	var loadNum = 0
	$('.bg-img').load(function(){
		loadNum+=50
		$("#loading").stop().animate({width:loadNum*2+"px"},function(){
			$(this).text(loadNum+"%")
			if(loadNum==100){
				$("#loadingbg").animate({opacity:"0"},function(){
					$(this).hide()
				})
			}
		})
	})
  $(document).ready(function(){
    $("#wrap1").click(function(){
    	$(this).animate({width:"0"},200,function(){
    		$(this).hide()
    		$("#wrap2").show().animate({width:"100%"},200)
    	})
    })
    $("#wrap2").click(function(){
		$(this).animate({width:"0"},200,function(){
    		$(this).hide()
    		$("#wrap1").show().animate({width:"100%"},200)
    	})
    })	
  })
</script>